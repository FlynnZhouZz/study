# 后台管理系统中角色管理、管理员管理、权限设置他们三者之间的关系

这是一个经典的 RBAC（Role-Based Access Control） 模型，三者形成清晰的层级关系：

## 一、核心关系图解

```text
权限(Permission) ←─ N:N ─→ 角色(Role) ←─ 1:N ─→ 管理员(AdminUser)
```

## 二、详细关系说明

### 1. 权限 (Permission) - 基础能力单元

```sql
权限表示例数据：
id  | name         | code                 | type
----|--------------|----------------------|------
1   | 查看用户列表   | user:list:view      | 1(菜单)
2   | 添加用户       | user:add:create     | 2(按钮)
3   | 删除用户       | user:delete:remove  | 3(接口)
4   | 查看订单       | order:list:view     | 1
5   | 导出订单       | order:export:create | 2
```

特点：
- 最小粒度的控制单元
- 通常是：菜单访问、按钮操作、API接口
- 与管理员没有直接关系

### 2. 角色 (Role) - 权限的容器

```sql
角色表示例数据：

id  | name     | code       | description
----|----------|------------|---------------
1   | 超级管理员 | superadmin | 拥有所有权限
2   | 运营人员   | operator   | 负责日常运营
3   | 财务人员   | finance    | 财务管理权限
```

角色权限关联表：
```sql
role_permission 表：

role_id | permission_id
--------|--------------
2       | 1            # 运营可以查看用户
2       | 4            # 运营可以查看订单
3       | 4            # 财务可以查看订单
3       | 5            # 财务可以导出订单
```

角色的作用：
- 将多个权限打包成一个集合
- 方便批量授权
- 便于权限复用

### 3. 管理员 (AdminUser) - 权限的使用者

```sql
管理员表示例数据：

id  | username | realname | role_id
----|----------|----------|--------
1   | admin    | 张三      | 1      # 超级管理员
2   | user1    | 李四      | 2      # 运营人员
3   | user2    | 王五      | 3      # 财务人员
```

## 总结

核心思想：
- 权限是"能做什么"（原子操作（菜单、按钮、接口））
- 角色是"岗位职责"（权限集合）
- 管理员是"谁来做"（权限使用者）

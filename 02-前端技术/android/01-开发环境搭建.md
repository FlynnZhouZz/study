# 开发环境搭建

## 系统要求

最低配置:

操作系统：Windows 10/11、macOS 10.14+、Linux（Ubuntu 18.04+） <br>
内存：8 GB RAM（推荐 16 GB） <br>
磁盘空间：至少 10 GB 可用空间（推荐 20 GB+） <br>
屏幕分辨率：1280×800 以上 <br>

## 完整安装步骤

### 步骤1：安装 JDK（Java Development Kit）

下载 JDK 11 或更高版本:

[Oracle JDK](https://www.oracle.com/java/technologies/downloads/)
或 <br>

```bash
# macOS (使用 Homebrew)
brew install openjdk@11

# Ubuntu/Debian
sudo apt install openjdk-11-jdk

# Fedora
sudo dnf install java-11-openjdk-devel
```

配置环境变量:

```bash
# Windows
1. 右键"此电脑" → 属性 → 高级系统设置
2. 环境变量 → 系统变量 → 新建
3. 变量名：JAVA_HOME
  变量值：C:\Program Files\Java\jdk-11.0.xx
4. 编辑Path变量，添加：%JAVA_HOME%\bin

# macOS/Linux
export JAVA_HOME=/usr/lib/jvm/java-11-openjdk
export PATH=$JAVA_HOME/bin:$PATH
# 添加到 ~/.bashrc 或 ~/.zshrc
```

验证安装:

```bash
java -version
javac -version
```

### 步骤2：安装 Android Studio

[官方下载页面](https://developer.android.com/studio)

macOS 安装:

```bash
1. 下载 android-studio-xxx.dmg
2. 拖拽到 Applications 文件夹
3. 右键点击 → 打开（首次需要）
4. 在 Applications 中找到并启动
```

Windows 安装:

```bash
1. 下载 android-studio-xxx.exe
2. 双击运行安装程序
3. 选择安装组件（全选）
4. 选择安装路径（建议不要安装在C盘）
5. 完成安装，启动 Android Studio
```

### 步骤3：Android Studio 初始配置

首次启动设置向导:

1. 选择安装类型
    - Standard（标准）：推荐新手
    - Custom（自定义）：高级用户
2. 选择 UI 主题
    - Darcula（深色）：推荐，护眼
    - Light（浅色）
3. SDK 组件安装
    - Android SDK：必须
    - Android SDK Platform：必须
    - Android Virtual Device：模拟器，推荐安装
4. SDK 安装位置

```bash
# Windows 默认：C:\Users\用户名\AppData\Local\Android\Sdk
# macOS 默认：/Users/用户名/Library/Android/sdk
# Linux 默认：/home/用户名/Android/Sdk

# 建议修改到非系统盘（Windows）
D:\Android\Sdk
```

5. 配置代理（如果需要）

```text
HTTP Proxy Host: mirrors.aliyun.com
HTTP Proxy Port: 80
```

### 步骤4：配置 Android SDK

打开 SDK Manager:

```text
File → Settings → Appearance & Behavior → System Settings → Android SDK
或
工具栏：SDK Manager 图标
```

安装必要的 SDK 平台:

- SDK Platforms 标签页
- 选择 Android 版本（建议）：

```text
✅ Android 13.0 (Tiramisu) - API 33
✅ Android 11.0 (R) - API 30
✅ Android 8.0 (Oreo) - API 26
```

- 点击 Apply → OK

安装 SDK Tools:

- SDK Tools 标签页
- 必须安装的工具：

```text
✅ Android SDK Build-Tools
✅ Android SDK Command-line Tools (latest)
✅ Android Emulator
✅ Android SDK Platform-Tools
✅ Intel x86 Emulator Accelerator (HAXM installer) - Windows
✅ Google USB Driver - Windows（如需真机调试）
```

### 步骤5：配置模拟器（AVD）

打开 AVD Manager:

```text
Tools → AVD Manager
或
工具栏：AVD Manager 图标
```

创建虚拟设备:

- 点击 Create Virtual Device
- 选择设备类型（推荐）：

```text
Phone → Pixel 5
或
Pixel 3a
```

选择系统镜像:

```text
Release Name: Tiramisu
API Level: 33
ABI: x86_64（性能更好）
Target: Android 13.0
```

配置 AVD：

```text
AVD Name: Pixel_5_API_33
Graphics: Hardware - GLES 2.0（性能最好）
```

点击 Finish

启动模拟器:

- 在 AVD Manager 中点击播放按钮
- 或命令行启动：

```bash
emulator -avd Pixel_5_API_33
```

### 步骤6：配置 Gradle

加速 Gradle 构建

1. 修改全局 Gradle 配置

```properties
# 文件位置：~/.gradle/gradle.properties
# Windows: C:\Users\用户名\.gradle\gradle.properties

# 开启并行构建
org.gradle.parallel=true

# 开启守护进程
org.gradle.daemon=true

# 配置 JVM 参数
org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=1024m

# 使用国内镜像（加速下载）
systemProp.http.proxyHost=mirrors.aliyun.com
systemProp.http.proxyPort=80
systemProp.https.proxyHost=mirrors.aliyun.com
systemProp.https.proxyPort=80
```

2. 修改项目级配置

```gradle
// build.gradle (Project)
buildscript {
    repositories {
        // 国内镜像源
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/jcenter' }
        maven { url 'https://maven.aliyun.com/repository/central' }
        // 官方源
        google()
        mavenCentral()
    }
}
```

### 步骤7：真机调试配置

Android 设备设置

1. 开启开发者选项 - 设置 → 关于手机 → 连续点击"版本号"7次
2. 开启调试功能 - 设置 → 系统 → 开发者选项 - USB调试/通过USB验证应用
3. 连接电脑 - `adb devices`

### 步骤8：安装常用插件

```text
✅ ADB Idea - ADB命令快捷工具
✅ Android ButterKnife Zelezny - ButterKnife辅助
✅ Material Theme UI - 主题美化
✅ JSON To Kotlin Class - JSON转数据类
✅ CodeGlance - 代码地图
✅ Key Promoter X - 快捷键提示
✅ Rainbow Brackets - 彩虹括号
✅ .ignore - Git忽略文件管理
```

## 环境配置优化

### 1. 性能优化设置

```properties
# Android Studio 配置优化
# 文件：Android Studio安装目录/bin/idea.properties

# 增加内存分配
-Xms2048m
-Xmx4096m
-XX:ReservedCodeCacheSize=1024m

# 文件索引排除
idea.max.intellisense.filesize=5000
```

### 2. 快捷键配置

| 功能       | Windows/Linux | macOS     |
| ---------- | ------------- | --------- |
| 运行应用   | Shift+F10     | Ctrl+R    |
| 调试应用   | Shift+F9      | Ctrl+D    |
| 代码格式化 | Ctrl+Alt+L    | Cmd+Alt+L |
| 查找类     | Ctrl+N        | Cmd+O     |
| 生成代码   | Alt+Insert    | Cmd+N     |
| 快速修复   | Alt+Enter     | Alt+Enter |


### 3. 常用命令行工具配置
```bash
# 添加 Android 工具到 PATH
# Windows
setx PATH "%PATH%;%ANDROID_HOME%\platform-tools;%ANDROID_HOME%\tools"

# macOS/Linux
export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
```